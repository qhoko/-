## üß™ –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞: –û–±—Ö–æ–¥ WAF –¥–ª—è —ç–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏–∏ –æ—Ç—Ä–∞–∂–µ–Ω–Ω–æ–≥–æ XSS

–≠—Ç–∞ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç –æ—Ç—Ä–∞–∂–µ–Ω–Ω—É—é —É—è–∑–≤–∏–º–æ—Å—Ç—å XSS –≤ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ –ø–æ–∏—Å–∫–∞, –Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –±—Ä–∞–Ω–¥–º–∞—É—ç—Ä –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π (WAF) –¥–ª—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã—Ö –≤–µ–∫—Ç–æ—Ä–æ–≤ XSS.

–ß—Ç–æ–±—ã —Ä–µ—à–∏—Ç—å –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω—É—é —Ä–∞–±–æ—Ç—É, –≤—ã–ø–æ–ª–Ω–∏—Ç–µ XSS-–∞—Ç–∞–∫—É, –∫–æ—Ç–æ—Ä–∞—è –æ–±—Ö–æ–¥–∏—Ç WAF –∏ –≤—ã–∑—ã–≤–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é `print()`.

> **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –†–µ—à–µ–Ω–∏–µ –Ω–µ –¥–æ–ª–∂–Ω–æ —Ç—Ä–µ–±–æ–≤–∞—Ç—å –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º. –†—É—á–Ω–æ–π –≤—ã–∑–æ–≤ `print()` –≤ –≤–∞—à–µ–º –±—Ä–∞—É–∑–µ—Ä–µ –Ω–µ —Ä–µ—à–∏—Ç –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω—É—é —Ä–∞–±–æ—Ç—É.

---

### –®–∞–≥–∏:

1. –í–≤–µ–¥–∏—Ç–µ `<>` –≤ —Å—Ç—Ä–æ–∫—É –ø–æ–∏—Å–∫–∞ –∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ. –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ —ç—Ç–æ—Ç –≤–≤–æ–¥ –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Burp Intruder, —á—Ç–æ–±—ã –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å, –∫–∞–∫–∏–µ —Ç–µ–≥–∏ –∏ –∞—Ç—Ä–∏–±—É—Ç—ã –±–ª–æ–∫–∏—Ä—É—é—Ç—Å—è.

2. –í–∫–ª—é—á–∏—Ç–µ Burp, –≤–≤–µ–¥–∏—Ç–µ –ª—é–±–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤ —Å—Ç—Ä–æ–∫—É –ø–æ–∏—Å–∫–∞, –∑–∞—Ç–µ–º –≤ **Proxy -> HTTP History** –æ—Ç–ø—Ä–∞–≤—å—Ç–µ –∑–∞–ø—Ä–æ—Å –≤ **Intruder**. –ó–∞–º–µ–Ω–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ `search?=` –Ω–∞ `<>` –∏ –Ω–∞–∂–º–∏—Ç–µ **Add ¬ß** –º–µ–∂–¥—É —É–≥–ª–æ–≤—ã–º–∏ —Å–∫–æ–±–∫–∞–º–∏:

   ![image](https://github.com/user-attachments/assets/747989b7-2e27-47f8-abb9-bb2c877ea05c)

3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –∫ [—à–ø–∞—Ä–≥–∞–ª–∫–µ –ø–æ XSS](https://portswigger.net/web-security/cross-site-scripting/cheat-sheet) –∏ —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ç–µ–≥–∏ –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞.

4. –í—Å—Ç–∞–≤—å—Ç–µ —Ç–µ–≥–∏ –≤ —Ä–∞–∑–¥–µ–ª **Payload configuration** –≤ Burp Intruder –∏ –Ω–∞–∂–º–∏—Ç–µ **Paste**:

   ![image](https://github.com/user-attachments/assets/fed749a3-a412-4cb5-9f73-266e3a1d554f)

5. –ù–∞–∂–º–∏—Ç–µ **Start Attack**. –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∞—Ç–∞–∫–∏ –ø—Ä–æ—Å–º–æ—Ç—Ä–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã. –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –ø–æ–ª–µ–∑–Ω—ã—Ö –Ω–∞–≥—Ä—É–∑–æ–∫ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –æ—Ç–≤–µ—Ç `400`, –Ω–æ –Ω–∞–≥—Ä—É–∑–∫–∞ `body` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—Ç–≤–µ—Ç `200`:

   ![image](https://github.com/user-attachments/assets/b7d6b583-f7ac-4750-b780-1ebbf218f23b)

6. –í–µ—Ä–Ω–∏—Ç–µ—Å—å –≤ Burp Intruder –∏ –∑–∞–º–µ–Ω–∏—Ç–µ –ø–æ–∏—Å–∫–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å –Ω–∞ `<body%20=1>`. –ü–æ–º–µ—Å—Ç–∏—Ç–µ –∫—É—Ä—Å–æ—Ä –ø–µ—Ä–µ–¥ —Å–∏–º–≤–æ–ª–æ–º `=` –∏ –Ω–∞–∂–º–∏—Ç–µ **Add ¬ß**, —á—Ç–æ–±—ã —Å–æ–∑–¥–∞—Ç—å –ø–æ–∑–∏—Ü–∏—é –¥–ª—è –ø–æ–ª–µ–∑–Ω–æ–π –Ω–∞–≥—Ä—É–∑–∫–∏. –¢–µ–ø–µ—Ä—å –ø–æ–∏—Å–∫–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å –¥–æ–ª–∂–µ–Ω –≤—ã–≥–ª—è–¥–µ—Ç—å —Ç–∞–∫: `<body%20¬ß¬ß=1>`.

7. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –∫ [—à–ø–∞—Ä–≥–∞–ª–∫–µ –ø–æ XSS](https://portswigger.net/web-security/cross-site-scripting/cheat-sheet) –∏ —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å–æ–±—ã—Ç–∏—è –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞.

8. –ü–æ–≤—Ç–æ—Ä–∏—Ç–µ —à–∞–≥ 4, –æ—á–∏—Å—Ç–∏–≤ –ø—Ä–µ–¥—ã–¥—É—â–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è —Å –ø–æ–º–æ—â—å—é –∫–Ω–æ–ø–∫–∏ **Clear**.

9. –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∞—Ç–∞–∫–∏ –ø—Ä–æ—Å–º–æ—Ç—Ä–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã. –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –ø–æ–ª–µ–∑–Ω—ã—Ö –Ω–∞–≥—Ä—É–∑–æ–∫ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –æ—Ç–≤–µ—Ç `400`, –Ω–æ –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –æ—Ç–≤–µ—Ç `200`.

10. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–æ–±—ã—Ç–∏–µ `onresize`, —Ç–∞–∫ –∫–∞–∫ –æ–Ω–æ –≤—ã–∑—ã–≤–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ä–∞–∑–º–µ—Ä–∞ –æ–∫–Ω–∞.

11. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä —ç–∫—Å–ø–ª–æ–π—Ç–æ–≤ –∏ –≤—Å—Ç–∞–≤—å—Ç–µ —Å–ª–µ–¥—É—é—â–∏–π –∫–æ–¥ –≤ —Ä–∞–∑–¥–µ–ª **Body**:

    ```html
    <iframe src="https://your.lab.url.web-security-academy.net/?search=%22%3E%3Cbody%20onresize=print(document.cookie)%3E" onload=this.style.width='100px'>
    ```

12. –ù–∞–∂–º–∏—Ç–µ **View exploit**, —á—Ç–æ–±—ã –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∞—Ç–∞–∫—É. –î–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ (alert).

13. –í–µ—Ä–Ω–∏—Ç–µ—Å—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä —ç–∫—Å–ø–ª–æ–π—Ç–æ–≤, –Ω–∞–∂–º–∏—Ç–µ **Store** (–°–æ—Ö—Ä–∞–Ω–∏—Ç—å), –∑–∞—Ç–µ–º –Ω–∞–∂–º–∏—Ç–µ **Deliver exploit to victim** (–î–æ—Å—Ç–∞–≤–∏—Ç—å —ç–∫—Å–ø–ª–æ–π—Ç –∂–µ—Ä—Ç–≤–µ).
