Некоторые приложения пытаются предотвратить выход ввода за пределы строки JavaScript, экранируя любые символы одинарных кавычек обратной косой чертой. Обратная косая черта перед символом сообщает парсеру JavaScript, что символ следует интерпретировать буквально, а не как специальный символ, такой как терминатор строки. В этой ситуации приложения часто совершают ошибку, не экранируя сам символ обратной косой черты. Это означает, что злоумышленник может использовать свой собственный символ обратной косой черты, чтобы нейтрализовать обратную косую черту, добавленную приложением.

Например, предположим, что входные данные:

';alert(document.domain)//
преобразуется в:

\';alert(document.domain)//
Теперь вы можете использовать альтернативную полезную нагрузку:

\';alert(document.domain)//
который преобразуется в:

\\';alert(document.domain)//
Здесь первый обратный слеш означает, что второй обратный слеш интерпретируется буквально, а не как специальный символ. Это означает, что кавычка теперь интерпретируется как терминатор строки, и поэтому атака успешна.

В данной лабораторной работе отражена уязвимость межсайтового скриптинга в функции отслеживания поисковых запросов, где угловые скобки и двойные скобки кодируются в HTML, а одинарные кавычки экранируются.

Чтобы решить эту лабораторную работу, выполните атаку с использованием межсайтового скриптинга, которая вырывается из строки JavaScript и вызывает alertфункцию.

1. Вводим случайное значение в поле поиска, после в коде элемента можем обнаружить, что наше случайное значение попадает в javascript код:

![image](https://github.com/user-attachments/assets/e6c67fe2-f805-4b5a-ad58-f7c90255361d)

2. Берем полезную нагрузку из текста выше: \';alert(document.domain)//
